<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="阳光夜风"><title>LeetCode "322. Coin Change" · 阳光夜风</title><!-- hexo-inject:begin --><!-- hexo-inject:end --><meta name="description" content="LeetCode link
first thought
sort the input array
check from biggest to smallest
pick current coin from most to none

solution
123456789101112131415161"><meta name="keywords" content="Hexo,HTML,CSS,android,Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">阳光夜风</a></h3><div class="description"><p>上善若水 大盈若冲</p></div></div></div><ul class="social-links"><li><a href="http://weibo.com/1685261185"><i class="fa fa-weibo"></i></a></li></ul><div class="footer"></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/favicon.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>LeetCode &quot;322. Coin Change&quot;</a></h3></div><div class="post-content"><p><a href="https://leetcode.com/problems/coin-change/description/" target="_blank" rel="external">LeetCode link</a></p>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><h3 id="first-thought"><a href="#first-thought" class="headerlink" title="first thought"></a>first thought</h3><ul>
<li>sort the input array</li>
<li>check from biggest to smallest</li>
<li>pick current coin from most to none</li>
</ul>
<p><strong>solution</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line"></div><div class="line">    int min;</div><div class="line"></div><div class="line">    public int coinChange(int[] coins, int amount) &#123;</div><div class="line">        Arrays.sort(coins);</div><div class="line">        this.min = -1;</div><div class="line">        if (coins.length &gt; 0) &#123;</div><div class="line">            this.helper(coins, amount, coins.length - 1, 0);</div><div class="line">        &#125;</div><div class="line">        return this.min;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    private void helper(int[] coins, int amount, int index, int count) &#123;</div><div class="line">        if (index &lt; 0) &#123;</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line">        if (amount == coins[index]) &#123;</div><div class="line">            if (this.min == -1 || this.min &gt; count + 1) &#123;</div><div class="line">                this.min = count + 1;</div><div class="line">            &#125;</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line">        for (int i = index; i &gt;= 0; i--) &#123;</div><div class="line">            int maxNum = amount / coins[i];</div><div class="line">            for (int j = maxNum; j &gt; 0; j--) &#123;</div><div class="line">                this.helper(coins, amount - coins[i] * j, i - 1, count + maxNum);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>problem</strong></p>
<p>miss the situation when amount is 0…</p>
<p><strong>reason</strong></p>
<hr>
<p><strong>modification</strong></p>
<p>add this case</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line"></div><div class="line">    int min;</div><div class="line"></div><div class="line">    public int coinChange(int[] coins, int amount) &#123;</div><div class="line">        Arrays.sort(coins);</div><div class="line">        this.min = -1;</div><div class="line">        if (amount == 0) &#123;</div><div class="line">            return 0;</div><div class="line">        &#125;</div><div class="line">        if (coins.length &gt; 0) &#123;</div><div class="line">            this.helper(coins, amount, coins.length - 1, 0);</div><div class="line">        &#125;</div><div class="line">        return this.min;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    private void helper(int[] coins, int amount, int index, int count) &#123;</div><div class="line">        if (index &lt; 0) &#123;</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line">        if (amount == coins[index]) &#123;</div><div class="line">            if (this.min == -1 || this.min &gt; count + 1) &#123;</div><div class="line">                this.min = count + 1;</div><div class="line">            &#125;</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line">        for (int i = index; i &gt;= 0; i--) &#123;</div><div class="line">            int maxNum = amount / coins[i];</div><div class="line">            for (int j = maxNum; j &gt; 0; j--) &#123;</div><div class="line">                this.helper(coins, amount - coins[i] * j, i - 1, count + maxNum);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>problem</strong></p>
<p>wrong answer</p>
<p><strong>reason</strong></p>
<ul>
<li>actually the first problem has already reveal the problem.The base case in the recursion is totally wrong.It should be the one which we make the amount is 0.And there’s also no need to add a individual case.</li>
<li>and there’s another stupid mistake: <code>count + maxNum</code>. It should be <code>count + j</code></li>
</ul>
<hr>
<p><strong>modification</strong></p>
<p>change the base case into amount == 0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line"></div><div class="line">    int min;</div><div class="line"></div><div class="line">    public int coinChange(int[] coins, int amount) &#123;</div><div class="line">        Arrays.sort(coins);</div><div class="line">        this.min = -1;</div><div class="line">        if (coins.length &gt; 0) &#123;</div><div class="line">            this.helper(coins, amount, coins.length - 1, 0);</div><div class="line">        &#125;</div><div class="line">        return this.min;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    private void helper(int[] coins, int amount, int index, int count) &#123;</div><div class="line">        if (amount == 0) &#123;</div><div class="line">            if (this.min == -1 || this.min &gt; count) &#123;</div><div class="line">                this.min = count;</div><div class="line">            &#125;</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line">        if (index &lt; 0) &#123;</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line">        for (int i = index; i &gt;= 0; i--) &#123;</div><div class="line">            int maxNum = amount / coins[i];</div><div class="line">            for (int j = maxNum; j &gt; 0; j--) &#123;</div><div class="line">                this.helper(coins, amount - coins[i] * j, i - 1, count + j);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>problem</strong></p>
<p>TLE</p>
<p><strong>modification</strong></p>
<p>tried to skip some unnecessary loop, but it didn’t work.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line"></div><div class="line">    int min;</div><div class="line"></div><div class="line">    public int coinChange(int[] coins, int amount) &#123;</div><div class="line">        Arrays.sort(coins);</div><div class="line">        this.min = -1;</div><div class="line">        if (coins.length &gt; 0) &#123;</div><div class="line">            this.helper(coins, amount, coins.length - 1, 0);</div><div class="line">        &#125;</div><div class="line">        return this.min;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    private void helper(int[] coins, int amount, int index, int count) &#123;</div><div class="line">        if (amount == 0) &#123;</div><div class="line">            if (this.min == -1 || this.min &gt; count) &#123;</div><div class="line">                this.min = count;</div><div class="line">            &#125;</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line">        if (index &lt; 0) &#123;</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line">        for (int i = index; i &gt;= 0; i--) &#123;</div><div class="line">            int maxNum = amount / coins[i];</div><div class="line">            if (this.min != -1 &amp;&amp; maxNum &gt; this.min) &#123;</div><div class="line">                return;</div><div class="line">            &#125;</div><div class="line">            for (int j = maxNum; j &gt; 0; j--) &#123;</div><div class="line">                this.helper(coins, amount - coins[i] * j, i - 1, count + j);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="this-can-be-solved-using-DP-Update-later"><a href="#this-can-be-solved-using-DP-Update-later" class="headerlink" title="this can be solved using DP. Update later."></a>this can be solved using DP. Update later.</h3></div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-08-14</span><i class="fa fa-tag"></i><a class="tag" href="/categories/算法/" title="算法">算法 </a><a class="tag" href="/tags/算法-algorithm-LeetCode/" title="算法, algorithm, LeetCode">算法, algorithm, LeetCode </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://yoursite.com/posts/322-Coin-Change/,阳光夜风,LeetCode &quot;322. Coin Change&quot;,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/posts/113-Path-Sum-II/" title="LeetCode &quot;113. Path Sum II&quot;">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/posts/472-Concatenated-Words/" title="LeetCode 472. Concatenated Words">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>